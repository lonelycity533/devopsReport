<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hyc.report.database.mapper.ReportDatabaseMapper">
    <insert id="insertDatabase">
        insert into REPORT_DATABASE VALUES(DATABASE_NEWSID.nextval,#{reportDatabase.databaseName}
        ,#{reportDatabase.databaseUrl}
        ,#{reportDatabase.databaseUsername}
        ,#{reportDatabase.databasePassword}
        ,#{reportDatabase.databaseType},sysdate,sysdate)
    </insert>

    <select id="getDataBaseByName" resultType="com.hyc.report.database.entity.ReportDatabase">
        select * from REPORT_DATABASE
        <where>
            <if test="databaseName!=null and databaseName!=''">
                DATABASE_NAME like concat(concat('%',#{databaseName}),'%')
            </if>
        </where>
    </select>
</mapper>
